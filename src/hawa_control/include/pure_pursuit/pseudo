


vector<pose> = path 

vector<path> = multi

seg_index = 0

bool_finished_all = false


function setPath(path_in)
{
    multi = convert(path_in);
    bool_finished_all = false;
}

function finishCurrentSeg()
{
    seg_index ++;
    if (seg_index >= multi.size())
    {
        bool_finished_all = true;
        seg_index = 0
    }
}

function getCurrentSegment() -> path
{
    return multi.at(seg_index);
}

function checkCurrentSegFinish(robot_pose)
{
    dist = robot_pose - getCurrentSegment().back();
    return (dist < 0.5);
}


function update(robot_pose)
{
    if (bool_finished_all)
    {
        return;
    }

    _current_finish = checkCurrentSegFinish(robot_pose);

    if (_current_finish)
    {
        finishCurrentSeg();
    }
}






